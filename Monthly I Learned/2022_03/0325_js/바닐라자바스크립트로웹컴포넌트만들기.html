<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>컴포넌트</title>
<style>
</style>
</head>

<body>
	<div id="app"></div>
	<script>
		const $app = document.querySelector("#app")

		let state = {
			items: ['item1', 'item2', 'item3', 'item4']
		}

		console.log({state}) // object  {state{...}}
		console.log(state) // object {items: (4) [...]}
		
		const render = () => {
			const {items} = state
			$app.innerHTML = `
				<ul>
					${items.map(item => `<li>${item}</li>`).join('')}
				</ul>
				<button id="append">추가</button>
			`
			document.querySelector("#append").addEventListener("click", ()=>{
				setState({items: [...items, `item${items.length + 1}`]})
			})
		}

		const setState = (newState) => {
			state = {...state, ...newState}
			render();
		}

		render();
	</script>
</body>
</html>